<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<TargetFramework>net452</TargetFramework>
		<OutputType>WinExe</OutputType>
		<RootNamespace>WpfLoggingApp</RootNamespace>
		<AssemblyName>WpfLoggingApp</AssemblyName>
		<StartupObject>WpfLoggingApp.App</StartupObject>
		<UseWPF>true</UseWPF>
		<ImportWindowsDesktopTargets>true</ImportWindowsDesktopTargets>
		<AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
		<Deterministic>true</Deterministic>
		<ProjectGuid>{8C8F4E4D-5E3B-4F2A-9D1E-2F3C4B5A6E7D}</ProjectGuid>
		
		<!-- Evita duplicati: lascia gli attributi generati manualmente -->
		<GenerateAssemblyInfo>false</GenerateAssemblyInfo>
		<GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>

		<!-- Metadati assembly -->
		<AssemblyTitle>WpfLoggingApp</AssemblyTitle>
		<Company>Infolab</Company>
		<Product>WpfLoggingApp</Product>

		<!-- Sorgente unica per la versione -->
		<Version>1.0.0.0</Version>

		<ComVisible>false</ComVisible>
		<Authors>www.infolabonline.com</Authors>
	</PropertyGroup>

	<ItemGroup>
		<PackageReference Include="NLog" Version="4.7.15" />
	</ItemGroup>

	<ItemGroup>
		<None Include="App.config" />
		<Content Include="NLog.config">
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
	</ItemGroup>

	<!-- Genera gli attributi di versione dal nodo <Version> -->
	<Target Name="GenerateAssemblyVersionAttributes" BeforeTargets="CoreCompile">
		<ItemGroup>
			<AssemblyAttributes Include="System.Reflection.AssemblyVersionAttribute">
				<_Parameter1>$(Version)</_Parameter1>
			</AssemblyAttributes>
			<AssemblyAttributes Include="System.Reflection.AssemblyFileVersionAttribute">
				<_Parameter1>$(Version)</_Parameter1>
			</AssemblyAttributes>
			<AssemblyAttributes Include="System.Reflection.AssemblyInformationalVersionAttribute">
				<_Parameter1>$(Version)</_Parameter1>
			</AssemblyAttributes>
		</ItemGroup>
		<WriteCodeFragment Language="C#" OutputFile="Properties\AssemblyInfo.Version.g.cs" AssemblyAttributes="@(AssemblyAttributes)" />
	</Target>
</Project>